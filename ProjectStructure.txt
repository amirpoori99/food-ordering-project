 food-ordering-project/
â”œâ”€â”€ backend/                                         # Backend (Server) section
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”‚   â”œâ”€â”€ java/com/myapp/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ServerApp.java                   # Main HTTP Server for Backend testing
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ common/                          # Common classes and utilities
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ models/                      # Data models (JPA Entities)
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ User.java                # User class (ID, name, phone, role, etc.) - JPA Entity
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Restaurant.java          # Restaurant model - JPA Entity  
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ FoodItem.java            # Food item model
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Order.java               # Order model
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Transaction.java         # Financial transaction model
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Rating.java              # User rating model
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Coupon.java              # Coupon model
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Menu.java                # Menu model
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Favorite.java            # Favorite model
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ RestaurantStatus.java    # Restaurant status enum (PENDING/APPROVED/REJECTED)
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ exceptions/                  # Custom exceptions
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ DuplicatePhoneException.java
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ InvalidCredentialsException.java
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ NotFoundException.java
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ utils/                       # Helper classes
â”‚   â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ JWTUtil.java             # JWT token generation and validation
â”‚   â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ DatabaseUtil.java        # Database connection and Hibernate SessionFactory
â”‚   â”‚   â”‚   â”‚   â”‚       â””â”€â”€ JsonUtil.java            # JSON serialization/deserialization
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ auth/                            # Authentication package
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AuthController.java          # register(), login(), getProfile(), updateProfile(), logout()
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AuthService.java             # Core authentication and user management logic
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AuthRepository.java          # Database access (save/retrieve users) - Hibernate
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ dto/                         # Data Transfer Objects
â”‚   â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ RegisterRequest.java
â”‚   â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ UpdateProfileRequest.java
â”‚   â”‚   â”‚   â”‚   â”‚       â””â”€â”€ ProfileResponse.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ restaurant/                      # Restaurant management package
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ RestaurantController.java    # createRestaurant(), listMine(), updateRestaurant()
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ RestaurantService.java       # Restaurant business logic
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ RestaurantRepository.java    # Database CRUD operations - Hibernate
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ menu/                            # Menu package
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MenuController.java          # addMenu(), addItemToMenu(), removeMenu(), removeItemFromMenu()
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MenuService.java             # Menu business logic
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ MenuRepository.java          # Menu database operations
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ item/                            # Food item package
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ItemController.java          # addItem(), updateItem(), deleteItem()
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ItemService.java             # Item business logic
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ItemRepository.java          # Item database operations
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ vendor/                          # Vendors package (customer-facing)
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ VendorController.java        # listVendors(), getVendorMenu()
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ VendorService.java           # Vendor business logic
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ VendorRepository.java        # Vendor database operations
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ order/                           # Order package
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ OrderController.java         # submitOrder(), getOrder(), getOrderHistory()
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ OrderService.java            # Order business logic
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ OrderRepository.java         # Order database operations
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ favorites/                       # Favorites package
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ FavoritesController.java     # listFavorites(), addFavorite(), removeFavorite()
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ FavoritesRepository.java     # Favorites database operations
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ courier/                         # Courier package
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ DeliveryController.java      # listAvailable(), updateStatus(), history()
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ DeliveryService.java         # Order assignment and status update logic
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ DeliveryRepository.java      # Courier database operations
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ notification/                    # Notifications package (Controller only implemented)
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ NotificationController.java  # push(), list()
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ payment/                         # Payment package
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PaymentController.java       # onPay()
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PaymentService.java          # Payment logic
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PaymentRepository.java       # Payment database operations
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WalletController.java        # topUp()
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WalletService.java           # Wallet logic
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TransactionController.java   # Transaction management
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ TransactionRepository.java   # Transaction database operations
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ coupon/                          # Coupon package
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CouponController.java        # Coupon management
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CouponService.java           # Coupon business logic
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ CouponRepository.java        # Coupon database operations
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ review/                          # Review package
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ RatingController.java        # Rating and review management
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ admin/                           # Admin package
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ AdminController.java         # listUsers(), updateUserStatus(), listOrders(), listTransactions()
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ dto/                             # Legacy DTO (some classes moved to specific packages)
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ RegisterRequest.java         # Legacy location
â”‚   â”‚   â”‚   â”œâ”€â”€ resources/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ application.yml                  # Database connection and server settings
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ hibernate.cfg.xml                # Hibernate configuration with entity mappings
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ openapi.yaml                     # API documentation (OpenAPI)
â”‚   â”‚   â”‚   â””â”€â”€ docker/
â”‚   â”‚   â”‚       â””â”€â”€ docker-compose.yml               # Database configuration in Docker
â”‚   â”‚   â””â”€â”€ test/java/com/myapp/
â”‚   â”‚       â”œâ”€â”€ api/                                 # API integration tests
â”‚   â”‚       â”‚   â””â”€â”€ RegistrationApiTest.java         # Comprehensive registration testing
â”‚   â”‚       â”œâ”€â”€ auth/                                # Authentication tests
â”‚   â”‚       â”‚   â”œâ”€â”€ AuthControllerTest.java          # Test auth endpoints
â”‚   â”‚       â”‚   â”œâ”€â”€ AuthRepositoryTest.java          # Repository layer tests
â”‚   â”‚       â”‚   â”œâ”€â”€ AuthServiceTest.java             # Service layer tests
â”‚   â”‚       â”‚   â””â”€â”€ AuthServiceProfileTest.java      # Profile-specific tests
â”‚   â”‚       â”œâ”€â”€ restaurant/                          # Restaurant tests
â”‚   â”‚       â”‚   â”œâ”€â”€ RestaurantRepositoryTest.java    # Repository tests
â”‚   â”‚       â”‚   â””â”€â”€ RestaurantServiceTest.java       # Service tests
â”‚   â”‚       â”œâ”€â”€ menu/
â”‚   â”‚       â”‚   â””â”€â”€ MenuControllerTest.java
â”‚   â”‚       â”œâ”€â”€ itam/                                # Note: typo in directory name
â”‚   â”‚       â”‚   â””â”€â”€ ItemServiceTest.java
â”‚   â”‚       â”œâ”€â”€ vendor/
â”‚   â”‚       â”‚   â””â”€â”€ VendorControllerTest.java
â”‚   â”‚       â”œâ”€â”€ order/
â”‚   â”‚       â”‚   â””â”€â”€ OrderControllerTest.java
â”‚   â”‚       â”œâ”€â”€ favorites/
â”‚   â”‚       â”‚   â””â”€â”€ FavoritesControllerTest.java
â”‚   â”‚       â”œâ”€â”€ payment/
â”‚   â”‚       â”‚   â””â”€â”€ PaymentControllerTest.java
â”‚   â”‚       â”œâ”€â”€ courier/
â”‚   â”‚       â”‚   â””â”€â”€ DeliveryControllerTest.java
â”‚   â”‚       â”œâ”€â”€ review/
â”‚   â”‚       â”‚   â””â”€â”€ RatingControllerTest.java
â”‚   â”‚       â””â”€â”€ coupon/
â”‚   â”‚           â””â”€â”€ CouponControllerTest.java
â”‚   â”œâ”€â”€ pom.xml                                      # Maven configuration with Hibernate, JPA, PostgreSQL, H2 dependencies
â”‚   â”œâ”€â”€ food_ordering.db                             # SQLite database file (for testing)
â”‚   â””â”€â”€ target/                                      # Maven build output
â”œâ”€â”€ frontend-javafx/                                 # JavaFX Client section
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”‚   â”œâ”€â”€ java/com/myapp/ui/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MainApp.java                    # JavaFX startup class
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ common/                         # Common UI classes
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ NavigationController.java   # Navigation between pages
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ NotificationService.java    # User message display
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ HttpClientUtil.java         # REST API calls
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ auth/                           # Authentication UI controllers
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LoginController.java        # onLogin(), initialize()
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ RegisterController.java     # onRegister()
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ProfileController.java      # loadProfile(), onSave()
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ restaurant/                     # Restaurant management UI controllers
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ RestaurantListController.java   # loadMyRestaurants()
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CreateRestaurantController.java # onCreate()
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ EditRestaurantController.java   # onUpdate()
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ menu/                           # Menu management UI controllers
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MenuManagementController.java   # loadMenus(), onAddMenu(), onRemoveMenu()
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ItemManagementController.java   # onAddItem(), onEditItem(), onDeleteItem()
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ vendor/                         # Restaurant search UI controllers
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ VendorSearchController.java     # onSearch()
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ order/                          # Shopping cart and history UI controllers
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CartController.java             # addToCart(), onCheckout()
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ OrderHistoryController.java     # loadHistory()
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ OrderDetailController.java      # loadOrderDetail()
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ payment/                        # Payment UI controllers
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WalletController.java       # onTopUp()
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ PaymentController.java      # onPay()
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ courier/                        # Courier UI controllers
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CourierAvailableController.java # loadAvailable()
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ CourierHistoryController.java   # loadDeliveryHistory()
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ review/                         # Review UI controllers
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ReviewController.java       # onSubmitReview(), loadReviews()
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ coupon/                         # Coupon UI controllers
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ CouponController.java       # onValidateCoupon()
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ admin/                          # Admin UI controllers
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ AdminUserController.java        # loadUsers(), onChangeStatus()
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ AdminOrderController.java       # loadOrders()
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ AdminTransactionController.java # loadTransactions()
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ CouponManagementController.java # onCreate(), onUpdate(), onDelete()
â”‚   â”‚   â”‚   â””â”€â”€ resources/
â”‚   â”‚   â”‚       â””â”€â”€ fxml/                           # FXML files for each page
â”‚   â”‚   â”‚           â”œâ”€â”€ Login.fxml
â”‚   â”‚   â”‚           â”œâ”€â”€ Register.fxml
â”‚   â”‚   â”‚           â”œâ”€â”€ Profile.fxml
â”‚   â”‚   â”‚           â”œâ”€â”€ RestaurantList.fxml
â”‚   â”‚   â”‚           â”œâ”€â”€ CreateRestaurant.fxml
â”‚   â”‚   â”‚           â”œâ”€â”€ EditRestaurant.fxml
â”‚   â”‚   â”‚           â”œâ”€â”€ MenuManagement.fxml
â”‚   â”‚   â”‚           â”œâ”€â”€ ItemManagement.fxml
â”‚   â”‚   â”‚           â”œâ”€â”€ VendorSearch.fxml
â”‚   â”‚   â”‚           â”œâ”€â”€ Cart.fxml
â”‚   â”‚   â”‚           â”œâ”€â”€ OrderHistory.fxml
â”‚   â”‚   â”‚           â”œâ”€â”€ OrderDetail.fxml
â”‚   â”‚   â”‚           â”œâ”€â”€ Wallet.fxml
â”‚   â”‚   â”‚           â”œâ”€â”€ Payment.fxml
â”‚   â”‚   â”‚           â”œâ”€â”€ CourierAvailable.fxml
â”‚   â”‚   â”‚           â”œâ”€â”€ CourierHistory.fxml
â”‚   â”‚   â”‚           â”œâ”€â”€ Review.fxml
â”‚   â”‚   â”‚           â”œâ”€â”€ CouponValidation.fxml
â”‚   â”‚   â”‚           â””â”€â”€ AdminDashboard.fxml
â”‚   â””â”€â”€ pom.xml                                    # Maven settings and JavaFX plugin
â”œâ”€â”€ docker-compose.yml                             # PostgreSQL database service definition
â”œâ”€â”€ init-db.sql                                    # Database initialization script
â””â”€â”€ aut_food.yaml                                  # Project automation configuration

## Current Implementation Status

### âœ… Completed (Phase 1 - JPA Migration)
- **User.java**: Fully migrated to JPA entity with proper annotations
- **Restaurant.java**: Fully migrated to JPA entity with RestaurantStatus enum
- **AuthRepository.java**: Migrated to Hibernate with exception handling
- **RestaurantRepository.java**: Migrated to Hibernate CRUD operations
- **DatabaseUtil.java**: Enhanced to support PostgreSQL and H2 databases
- **hibernate.cfg.xml**: Configured with entity mappings
- **Tests**: All 27 tests passing (AuthRepositoryTest, AuthServiceTest, etc.)
- **ServerApp.java**: Basic HTTP server for API testing
- **Docker**: PostgreSQL container setup

### ðŸš§ In Progress
- **Database Connection**: PostgreSQL authentication issues
- **API Endpoints**: Basic structure in place, needs refinement

### ðŸ“‹ TODO (Phase 2)
- **Remaining Models**: FoodItem, Order, Menu, Transaction, Coupon, Rating, Favorite
- **Service Layer**: Complete migration to JPA for all services
- **Repository Layer**: Migrate all repositories to Hibernate
- **API Integration**: Complete REST API implementation
- **Frontend Integration**: Connect JavaFX client to backend APIs