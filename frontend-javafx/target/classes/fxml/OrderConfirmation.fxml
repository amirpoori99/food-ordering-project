<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<VBox xmlns="http://javafx.com/javafx/17.0.2-ea" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.myapp.ui.order.OrderConfirmationController">
   <children>
      <!-- Header Section -->
      <HBox alignment="CENTER_LEFT" spacing="15.0" styleClass="header-section">
         <children>
            <Button fx:id="backToMenuButton" onAction="#handleBackToMenu" styleClass="back-button" text="â† Ø¨Ø§Ø²Ú¯Ø´Øª" />
            <Label styleClass="page-title" text="ØªØ£ÛŒÛŒØ¯ Ø³ÙØ§Ø±Ø´" />
            <Region HBox.hgrow="ALWAYS" />
            <Button fx:id="refreshMenuItem" onAction="#handleRefresh" styleClass="refresh-button" text="ðŸ”„ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ" />
         </children>
         <padding>
            <Insets left="20.0" right="20.0" top="15.0" bottom="15.0" />
         </padding>
      </HBox>

      <!-- Main Content ScrollPane -->
      <ScrollPane fitToWidth="true" VBox.vgrow="ALWAYS">
         <content>
            <VBox spacing="20.0">
               <children>
                  <!-- Order Information Card -->
                  <VBox spacing="15.0" styleClass="card">
                     <children>
                        <Label styleClass="section-title" text="ðŸ“‹ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø³ÙØ§Ø±Ø´" />
                        
                        <!-- Order Details Grid -->
                        <GridPane hgap="20.0" vgap="10.0">
                           <columnConstraints>
                              <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" />
                              <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" />
                           </columnConstraints>
                           <rowConstraints>
                              <RowConstraints minHeight="10.0" vgrow="SOMETIMES" />
                              <RowConstraints minHeight="10.0" vgrow="SOMETIMES" />
                              <RowConstraints minHeight="10.0" vgrow="SOMETIMES" />
                           </rowConstraints>
                           <children>
                              <Label text="Ø´Ù…Ø§Ø±Ù‡ Ø³ÙØ§Ø±Ø´:" styleClass="label-key" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                              <Label fx:id="orderNumberLabel" text="ORD-123456789" styleClass="label-value" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                              
                              <Label text="ØªØ§Ø±ÛŒØ® Ùˆ Ø²Ù…Ø§Ù†:" styleClass="label-key" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                              <Label fx:id="orderDateTimeLabel" text="1403/04/09 14:30" styleClass="label-value" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                              
                              <Label text="Ø²Ù…Ø§Ù† ØªØ­ÙˆÛŒÙ„:" styleClass="label-key" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                              <Label fx:id="estimatedDeliveryLabel" text="1403/04/09 15:15" styleClass="label-value-highlight" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                           </children>
                        </GridPane>
                     </children>
                     <padding>
                        <Insets bottom="15.0" left="15.0" right="15.0" top="15.0" />
                     </padding>
                  </VBox>

                  <!-- Order Status & Progress -->
                  <VBox spacing="15.0" styleClass="card">
                     <children>
                        <Label styleClass="section-title" text="ðŸ“Š ÙˆØ¶Ø¹ÛŒØª Ø³ÙØ§Ø±Ø´" />
                        
                        <VBox spacing="10.0">
                           <children>
                              <Label fx:id="currentStatusLabel" text="ÙˆØ¶Ø¹ÛŒØª ÙØ¹Ù„ÛŒ: ØªØ£ÛŒÛŒØ¯ Ø³ÙØ§Ø±Ø´" styleClass="current-status" />
                              <ProgressBar fx:id="orderProgressBar" maxWidth="1.7976931348623157E308" progress="0.2" styleClass="order-progress" />
                              <ProgressIndicator fx:id="loadingIndicator" visible="false" />
                           </children>
                        </VBox>
                        
                        <!-- Tracking Steps -->
                        <VBox fx:id="trackingStepsContainer" spacing="8.0" />
                     </children>
                     <padding>
                        <Insets bottom="15.0" left="15.0" right="15.0" top="15.0" />
                     </padding>
                  </VBox>

                  <!-- Order Items -->
                  <VBox spacing="15.0" styleClass="card">
                     <children>
                        <Label styleClass="section-title" text="ðŸ½ï¸ Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ø³ÙØ§Ø±Ø´" />
                        <VBox fx:id="orderItemsContainer" spacing="10.0" />
                     </children>
                     <padding>
                        <Insets bottom="15.0" left="15.0" right="15.0" top="15.0" />
                     </padding>
                  </VBox>

                  <!-- Order Summary -->
                  <VBox spacing="15.0" styleClass="card">
                     <children>
                        <Label styleClass="section-title" text="ðŸ’° Ø®Ù„Ø§ØµÙ‡ Ù…Ø§Ù„ÛŒ" />
                        
                        <GridPane hgap="20.0" vgap="8.0">
                           <columnConstraints>
                              <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" />
                              <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" />
                           </columnConstraints>
                           <rowConstraints>
                              <RowConstraints minHeight="10.0" vgrow="SOMETIMES" />
                              <RowConstraints minHeight="10.0" vgrow="SOMETIMES" />
                              <RowConstraints minHeight="10.0" vgrow="SOMETIMES" />
                              <RowConstraints minHeight="10.0" vgrow="SOMETIMES" />
                              <RowConstraints minHeight="10.0" vgrow="SOMETIMES" />
                           </rowConstraints>
                           <children>
                              <Label text="Ø¬Ù…Ø¹ Ú©Ù„:" styleClass="label-key" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                              <Label fx:id="subtotalLabel" text="85,000 ØªÙˆÙ…Ø§Ù†" styleClass="label-value" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                              
                              <Label text="Ù…Ø§Ù„ÛŒØ§Øª:" styleClass="label-key" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                              <Label fx:id="taxLabel" text="7,650 ØªÙˆÙ…Ø§Ù†" styleClass="label-value" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                              
                              <Label text="Ù‡Ø²ÛŒÙ†Ù‡ Ø§Ø±Ø³Ø§Ù„:" styleClass="label-key" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                              <Label fx:id="deliveryFeeLabel" text="Ø±Ø§ÛŒÚ¯Ø§Ù†" styleClass="label-value-success" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                              
                              <Label text="ØªØ®ÙÛŒÙ:" styleClass="label-key" GridPane.columnIndex="0" GridPane.rowIndex="3" />
                              <Label fx:id="discountLabel" text="- 5,000 ØªÙˆÙ…Ø§Ù†" styleClass="label-value-success" GridPane.columnIndex="1" GridPane.rowIndex="3" />
                              
                              <Separator GridPane.columnSpan="2" GridPane.rowIndex="4" />
                              
                              <Label text="Ù…Ø¨Ù„Øº Ù†Ù‡Ø§ÛŒÛŒ:" styleClass="label-key-total" GridPane.columnIndex="0" GridPane.rowIndex="5" />
                              <Label fx:id="totalAmountLabel" text="87,650 ØªÙˆÙ…Ø§Ù†" styleClass="label-value-total" GridPane.columnIndex="1" GridPane.rowIndex="5" />
                           </children>
                        </GridPane>
                     </children>
                     <padding>
                        <Insets bottom="15.0" left="15.0" right="15.0" top="15.0" />
                     </padding>
                  </VBox>

                  <!-- Payment Information -->
                  <VBox spacing="15.0" styleClass="card">
                     <children>
                        <Label styleClass="section-title" text="ðŸ’³ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù¾Ø±Ø¯Ø§Ø®Øª" />
                        
                        <GridPane hgap="20.0" vgap="10.0">
                           <columnConstraints>
                              <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" />
                              <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" />
                           </columnConstraints>
                           <rowConstraints>
                              <RowConstraints minHeight="10.0" vgrow="SOMETIMES" />
                              <RowConstraints minHeight="10.0" vgrow="SOMETIMES" />
                           </rowConstraints>
                           <children>
                              <Label text="Ø±ÙˆØ´ Ù¾Ø±Ø¯Ø§Ø®Øª:" styleClass="label-key" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                              <Label fx:id="paymentMethodLabel" text="Ú©Ø§Ø±Øª Ø§Ø¹ØªØ¨Ø§Ø±ÛŒ" styleClass="label-value" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                              
                              <Label text="ÙˆØ¶Ø¹ÛŒØª Ù¾Ø±Ø¯Ø§Ø®Øª:" styleClass="label-key" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                              <Label fx:id="paymentStatusLabel" text="âœ… ØªØ£ÛŒÛŒØ¯ Ø´Ø¯Ù‡" styleClass="label-value-success" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                           </children>
                        </GridPane>
                     </children>
                     <padding>
                        <Insets bottom="15.0" left="15.0" right="15.0" top="15.0" />
                     </padding>
                  </VBox>

                  <!-- Delivery Information -->
                  <VBox spacing="15.0" styleClass="card">
                     <children>
                        <Label styleClass="section-title" text="ðŸšš Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªØ­ÙˆÛŒÙ„" />
                        
                        <VBox spacing="10.0">
                           <children>
                              <Label text="Ø¢Ø¯Ø±Ø³ ØªØ­ÙˆÛŒÙ„:" styleClass="label-key" />
                              <TextArea fx:id="deliveryAddressDisplay" editable="false" prefRowCount="2" 
                                       text="ØªÙ‡Ø±Ø§Ù†ØŒ Ø®ÛŒØ§Ø¨Ø§Ù† ÙˆÙ„ÛŒØ¹ØµØ±ØŒ Ù¾Ù„Ø§Ú© 123" wrapText="true" />
                              
                              <Label text="Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³:" styleClass="label-key" />
                              <TextField fx:id="customerPhoneDisplay" editable="false" text="09123456789" />
                              
                              <Label text="ÛŒØ§Ø¯Ø¯Ø§Ø´Øª Ø³ÙØ§Ø±Ø´:" styleClass="label-key" />
                              <TextArea fx:id="orderNotesDisplay" editable="false" prefRowCount="2" 
                                       text="Ø¨Ø¯ÙˆÙ† Ù¾ÛŒØ§Ø²ØŒ Ø§Ø¶Ø§ÙÙ‡ Ø³Ø³" wrapText="true" />
                           </children>
                        </VBox>
                     </children>
                     <padding>
                        <Insets bottom="15.0" left="15.0" right="15.0" top="15.0" />
                     </padding>
                  </VBox>

                  <!-- Restaurant Information -->
                  <VBox spacing="15.0" styleClass="card">
                     <children>
                        <Label styleClass="section-title" text="ðŸª Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø±Ø³ØªÙˆØ±Ø§Ù†" />
                        
                        <GridPane hgap="20.0" vgap="10.0">
                           <columnConstraints>
                              <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" />
                              <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" />
                           </columnConstraints>
                           <rowConstraints>
                              <RowConstraints minHeight="10.0" vgrow="SOMETIMES" />
                              <RowConstraints minHeight="10.0" vgrow="SOMETIMES" />
                              <RowConstraints minHeight="10.0" vgrow="SOMETIMES" />
                              <RowConstraints minHeight="10.0" vgrow="SOMETIMES" />
                           </rowConstraints>
                           <children>
                              <Label text="Ù†Ø§Ù… Ø±Ø³ØªÙˆØ±Ø§Ù†:" styleClass="label-key" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                              <Label fx:id="restaurantNameLabel" text="Ø±Ø³ØªÙˆØ±Ø§Ù† Ú©Ø¨Ø§Ø¨ Ø§ÛŒØ±Ø§Ù†ÛŒ" styleClass="label-value" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                              
                              <Label text="ØªÙ„ÙÙ† Ø±Ø³ØªÙˆØ±Ø§Ù†:" styleClass="label-key" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                              <Label fx:id="restaurantPhoneLabel" text="021-12345678" styleClass="label-value" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                              
                              <Label text="Ù†Ø§Ù… Ù¾ÛŒÚ©:" styleClass="label-key" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                              <Label fx:id="courierNameLabel" text="Ø§Ø­Ù…Ø¯ Ø±Ø¶Ø§ÛŒÛŒ" styleClass="label-value" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                              
                              <Label text="ØªÙ„ÙÙ† Ù¾ÛŒÚ©:" styleClass="label-key" GridPane.columnIndex="0" GridPane.rowIndex="3" />
                              <Label fx:id="courierPhoneLabel" text="09987654321" styleClass="label-value" GridPane.columnIndex="1" GridPane.rowIndex="3" />
                           </children>
                        </GridPane>
                     </children>
                     <padding>
                        <Insets bottom="15.0" left="15.0" right="15.0" top="15.0" />
                     </padding>
                  </VBox>

                  <!-- Notification Settings -->
                  <VBox spacing="15.0" styleClass="card">
                     <children>
                        <Label styleClass="section-title" text="ðŸ”” ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø§Ø·Ù„Ø§Ø¹â€ŒØ±Ø³Ø§Ù†ÛŒ" />
                        
                        <VBox spacing="8.0">
                           <children>
                              <CheckBox fx:id="emailNotificationCheckBox" selected="true" text="Ø§Ø±Ø³Ø§Ù„ Ø§Ø·Ù„Ø§Ø¹â€ŒØ±Ø³Ø§Ù†ÛŒ Ø¨Ù‡ Ø§ÛŒÙ…ÛŒÙ„" />
                              <CheckBox fx:id="smsNotificationCheckBox" selected="true" text="Ø§Ø±Ø³Ø§Ù„ Ø§Ø·Ù„Ø§Ø¹â€ŒØ±Ø³Ø§Ù†ÛŒ Ù¾ÛŒØ§Ù…Ú©ÛŒ" />
                           </children>
                        </VBox>
                     </children>
                     <padding>
                        <Insets bottom="15.0" left="15.0" right="15.0" top="15.0" />
                     </padding>
                  </VBox>

                  <!-- Action Buttons -->
                  <HBox spacing="15.0" alignment="CENTER">
                     <children>
                        <Button fx:id="cancelOrderButton" onAction="#handleCancelOrder" 
                                styleClass="cancel-button" text="âŒ Ù„ØºÙˆ Ø³ÙØ§Ø±Ø´" />
                        <Button fx:id="downloadReceiptButton" onAction="#handleDownloadReceipt" 
                                styleClass="download-button" text="ðŸ“„ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø±Ø³ÛŒØ¯" />
                        <Button fx:id="contactSupportButton" onAction="#handleContactSupport" 
                                styleClass="support-button" text="ðŸ“ž Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ" />
                        <Button fx:id="trackOrderButton" onAction="#handleTrackOrder" 
                                styleClass="track-button" text="ðŸ” Ù¾ÛŒÚ¯ÛŒØ±ÛŒ ØªÙØµÛŒÙ„ÛŒ" />
                        <Button fx:id="reorderButton" onAction="#handleReorder" 
                                styleClass="reorder-button" text="ðŸ”„ Ø³ÙØ§Ø±Ø´ Ù…Ø¬Ø¯Ø¯" />
                     </children>
                     <padding>
                        <Insets bottom="20.0" top="10.0" />
                     </padding>
                  </HBox>
               </children>
               <padding>
                  <Insets left="20.0" right="20.0" top="10.0" bottom="20.0" />
               </padding>
            </VBox>
         </content>
      </ScrollPane>

      <!-- Footer Status Bar -->
      <HBox alignment="CENTER_LEFT" spacing="10.0" styleClass="status-bar">
         <children>
            <Label fx:id="statusMessageLabel" text="Ø³ÙØ§Ø±Ø´ Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø«Ø¨Øª Ø´Ø¯" styleClass="status-message" />
            <Region HBox.hgrow="ALWAYS" />
            <MenuButton styleClass="menu-button" text="Ù…Ù†Ùˆ">
               <items>
                  <MenuItem fx:id="printReceiptMenuItem" onAction="#handlePrintReceipt" text="Ú†Ø§Ù¾ Ø±Ø³ÛŒØ¯" />
                  <MenuItem fx:id="orderHistoryMenuItem" onAction="#handleOrderHistory" text="ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ø³ÙØ§Ø±Ø´Ø§Øª" />
                  <SeparatorMenuItem />
                  <MenuItem fx:id="homeMenuItem" onAction="#handleHome" text="ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ" />
               </items>
            </MenuButton>
         </children>
         <padding>
            <Insets left="20.0" right="20.0" top="10.0" bottom="10.0" />
         </padding>
      </HBox>
   </children>
</VBox>