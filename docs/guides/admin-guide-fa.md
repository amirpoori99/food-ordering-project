# 🛡️ راهنمای مدیر سیستم سفارش غذا (Admin Guide)

## مقدمه
این راهنما ویژه مدیران سیستم است و تمام امکانات داشبورد مدیریتی (فاز ۲۹) را با جزئیات کامل پوشش می‌دهد. سیستم در حال حاضر 95% تکمیل شده و تمام بخش‌های اصلی فعال هستند.

---

## ۱. ورود به داشبورد ادمین
- پس از ورود با حساب ادمین، از منوی اصلی گزینه «داشبورد مدیریت» را انتخاب کنید.
- داشبورد شامل ۶ تب اصلی است:
  1. مدیریت کاربران
  2. مدیریت سفارشات
  3. مدیریت تراکنش‌ها
  4. مدیریت رستوران‌ها
  5. گزارشات و آمار
  6. تنظیمات

### ویژگی‌های جدید (فاز 29):
- **Real-time Updates**: به‌روزرسانی لحظه‌ای آمار و اطلاعات
- **Advanced Filtering**: فیلترهای پیشرفته برای تمام بخش‌ها
- **Export Capabilities**: خروجی CSV/Excel از تمام داده‌ها
- **Bulk Operations**: عملیات گروهی روی کاربران و رستوران‌ها

---

## ۲. مدیریت کاربران

### مشاهده و جستجو
- مشاهده لیست کامل کاربران با اطلاعات (نام، ایمیل، نقش، وضعیت، تاریخ عضویت)
- جستجو بر اساس نام یا ایمیل
- فیلتر بر اساس نقش (کاربر، ادمین، فروشنده، پیک)
- فیلتر بر اساس وضعیت (فعال/غیرفعال/معلق)

### عملیات مدیریتی
- **افزودن کاربر جدید**: ایجاد حساب کاربری جدید با نقش مشخص
- **ویرایش اطلاعات**: تغییر نام، ایمیل، شماره تلفن
- **تغییر نقش**: ارتقا یا تنزل نقش کاربر
- **تغییر وضعیت**: فعال/غیرفعال کردن حساب
- **حذف کاربر**: حذف دائمی حساب (با تأیید)

### ویژگی‌های پیشرفته
- **Bulk Operations**: انتخاب چندین کاربر و اعمال عملیات گروهی
- **User Analytics**: آمار فعالیت کاربران
- **Login History**: تاریخچه ورود کاربران
- **Account Lockout**: قفل کردن حساب‌های مشکوک

### نکته امنیتی:
- فقط ادمین‌ها مجاز به تغییر وضعیت یا حذف کاربر هستند.
- تمام عملیات در لاگ سیستم ثبت می‌شوند.

---

## ۳. مدیریت سفارشات

### مشاهده و فیلتر
- مشاهده لیست سفارشات با اطلاعات (شناسه، مشتری، رستوران، وضعیت، مبلغ، تاریخ)
- جستجو بر اساس کد پیگیری یا نام مشتری
- فیلتر بر اساس وضعیت سفارش (ثبت شده، تأیید شده، آماده‌سازی، ارسال، تحویل، لغو)
- فیلتر بر اساس تاریخ و مبلغ

### عملیات مدیریتی
- **تغییر وضعیت سفارش**: انتقال سفارش بین مراحل مختلف
- **مشاهده جزئیات**: اطلاعات کامل سفارش شامل آیتم‌ها و آدرس تحویل
- **مدیریت تحویل**: تخصیص پیک و پیگیری تحویل
- **لغو سفارش**: لغو سفارش با دلیل

### ویژگی‌های پیشرفته
- **Order Analytics**: آمار سفارشات روزانه/ماهانه
- **Revenue Tracking**: پیگیری درآمد
- **Delivery Performance**: عملکرد تحویل
- **Customer Satisfaction**: رضایت مشتریان

---

## ۴. مدیریت تراکنش‌ها

### مشاهده تراکنش‌ها
- مشاهده لیست تراکنش‌ها با اطلاعات (شناسه، کاربر، نوع، مبلغ، وضعیت، تاریخ)
- جستجو بر اساس شناسه تراکنش یا شماره کارت
- فیلتر بر اساس نوع تراکنش (پرداخت، بازپرداخت، شارژ کیف پول)
- فیلتر بر اساس وضعیت (موفق، ناموفق، در انتظار)

### عملیات مدیریتی
- **مشاهده جزئیات**: اطلاعات کامل تراکنش
- **بازپرداخت**: بازپرداخت تراکنش‌های ناموفق
- **تأیید تراکنش**: تأیید تراکنش‌های مشکوک
- **مسدود کردن**: مسدود کردن تراکنش‌های مشکوک

### ویژگی‌های پیشرفته
- **Transaction Analytics**: آمار تراکنش‌ها
- **Fraud Detection**: تشخیص تراکنش‌های مشکوک
- **Payment Gateway Status**: وضعیت درگاه‌های پرداخت
- **Reconciliation**: تطبیق تراکنش‌ها

---

## ۵. مدیریت رستوران‌ها

### مشاهده و جستجو
- مشاهده لیست رستوران‌ها با اطلاعات (نام، آدرس، وضعیت، امتیاز، تعداد سفارش)
- جستجو بر اساس نام رستوران یا آدرس
- فیلتر بر اساس وضعیت (فعال/غیرفعال/معلق)
- فیلتر بر اساس نوع غذا

### عملیات مدیریتی
- **افزودن رستوران جدید**: ثبت رستوران جدید با اطلاعات کامل
- **ویرایش اطلاعات**: تغییر نام، آدرس، تلفن، ساعات کاری
- **تغییر وضعیت**: فعال/غیرفعال کردن رستوران
- **مدیریت منو**: مشاهده و تأیید آیتم‌های منو
- **حذف رستوران**: حذف رستوران (با تأیید)

### ویژگی‌های پیشرفته
- **Restaurant Analytics**: آمار عملکرد رستوران‌ها
- **Menu Management**: مدیریت منوها و آیتم‌ها
- **Rating Management**: مدیریت امتیازات و نظرات
- **Commission Tracking**: پیگیری کمیسیون‌ها

---

## ۶. گزارشات و آمار

### نمودارهای تحلیلی
- **نمودار دایره‌ای وضعیت سفارشات**: توزیع سفارشات بر اساس وضعیت
- **نمودار خطی درآمد هفتگی**: روند درآمد در طول هفته
- **نمودار ستونی فروش رستوران‌ها**: مقایسه فروش رستوران‌ها
- **نمودار کاربران جدید**: رشد کاربران در طول زمان

### گزارشات دوره‌ای
- **گزارش روزانه**: آمار روزانه سیستم
- **گزارش هفتگی**: خلاصه عملکرد هفتگی
- **گزارش ماهانه**: گزارش جامع ماهانه
- **گزارش سالانه**: آمار سالانه و روندها

### ویژگی‌های پیشرفته
- **Custom Reports**: گزارشات سفارشی
- **Export Options**: خروجی PDF/Excel/CSV
- **Scheduled Reports**: گزارشات زمان‌بندی شده
- **Email Alerts**: هشدارهای ایمیلی

---

## ۷. تنظیمات سیستم

### تنظیمات امنیتی
- **Password Policy**: سیاست رمز عبور
- **Session Timeout**: زمان انقضای نشست
- **Login Attempts**: محدودیت تلاش‌های ورود
- **IP Whitelist**: لیست سفید IP ها

### تنظیمات کسب‌وکار
- **Commission Rates**: نرخ کمیسیون
- **Delivery Fees**: هزینه‌های تحویل
- **Minimum Order**: حداقل مبلغ سفارش
- **Operating Hours**: ساعات کاری

### تنظیمات فنی
- **API Settings**: تنظیمات API
- **Database Configuration**: پیکربندی پایگاه داده
- **Backup Settings**: تنظیمات پشتیبان‌گیری
- **Logging Configuration**: تنظیمات لاگ

---

## ۸. ویژگی‌های جدید (فازهای 31-38)

### اسکریپت‌های سیستم (فازهای 31-35)
- **Database Setup Scripts**: اسکریپت‌های راه‌اندازی پایگاه داده
- **Deployment Scripts**: اسکریپت‌های استقرار خودکار
- **Monitoring Scripts**: اسکریپت‌های نظارت سیستم
- **Backup Scripts**: اسکریپت‌های پشتیبان‌گیری خودکار
- **Security Scripts**: اسکریپت‌های امنیتی

### مستندات کامل (فازهای 36-38)
- **API Documentation**: مستندات کامل API با Swagger
- **User Manuals**: راهنماهای کاربری جامع
- **Developer Documentation**: مستندات توسعه‌دهندگان
- **Technical Architecture**: مستندات معماری فنی

---

## ۹. نکات تست و نگهداری

### تست‌های جامع
- تمام سناریوهای مدیریتی با ۲۲ تست جامع پوشش داده شده‌اند.
- هرگونه تغییر در کد باید با اجرای تست‌ها و بررسی خروجی انجام شود.
- تمام تست‌های frontend و امنیتی به گونه‌ای بازنویسی شده‌اند که در هر محیطی (حتی بدون UI گرافیکی) اجرا شوند و هیچ تستی قفل نمی‌کند.
- برای تست‌های UI واقعی، باید محیط گرافیکی فراهم باشد؛ اما تست‌های فعلی منطق session و امنیت را به طور کامل پوشش می‌دهند.

### نگهداری سیستم
- **Daily Monitoring**: نظارت روزانه بر عملکرد سیستم
- **Weekly Backups**: پشتیبان‌گیری هفتگی
- **Monthly Reports**: گزارشات ماهانه
- **Quarterly Updates**: به‌روزرسانی‌های فصلی

### برای مشاهده وضعیت سیستم از پیام‌های وضعیت پایین صفحه استفاده کنید.

---

## ۱۰. مثال تصویری ساختار تب‌ها
```
[داشبورد مدیریت]
├── مدیریت کاربران
│   ├── لیست کاربران
│   ├── افزودن کاربر
│   ├── ویرایش کاربر
│   └── آمار کاربران
├── مدیریت سفارشات
│   ├── لیست سفارشات
│   ├── جزئیات سفارش
│   ├── تغییر وضعیت
│   └── آمار سفارشات
├── مدیریت تراکنش‌ها
│   ├── لیست تراکنش‌ها
│   ├── جزئیات تراکنش
│   ├── بازپرداخت
│   └── آمار تراکنش‌ها
├── مدیریت رستوران‌ها
│   ├── لیست رستوران‌ها
│   ├── افزودن رستوران
│   ├── مدیریت منو
│   └── آمار رستوران‌ها
├── گزارشات و آمار
│   ├── نمودارها
│   ├── گزارشات دوره‌ای
│   ├── گزارشات سفارشی
│   └── خروجی
└── تنظیمات
    ├── تنظیمات امنیتی
    ├── تنظیمات کسب‌وکار
    ├── تنظیمات فنی
    └── پشتیبان‌گیری
```

---

## ۱۱. سوالات متداول
- **چگونه کاربر جدید اضافه کنم؟**
  از تب مدیریت کاربران، دکمه «افزودن کاربر» را بزنید.

- **چگونه گزارش خروجی بگیرم؟**
  از هر تب، دکمه «Export» را بزنید.

- **اگر دکمه‌ها غیرفعال شد چه کنم؟**
  منتظر بمانید تا بارگذاری کامل شود یا پیام وضعیت را بررسی کنید.

- **چگونه سیستم را پشتیبان‌گیری کنم؟**
  از تب تنظیمات، بخش پشتیبان‌گیری را انتخاب کنید.

- **چگونه عملکرد سیستم را نظارت کنم؟**
  از داشبورد اصلی، بخش آمار و نمودارها را مشاهده کنید.

---

## ۱۲. وضعیت فعلی پروژه

### پیشرفت کلی: 95% (38/40 فاز)
- ✅ **Backend**: 100% کامل (20/20 فاز)
- ✅ **Frontend**: 100% کامل (10/10 فاز)  
- ✅ **System Scripts**: 100% کامل (5/5 فاز)
- 🔄 **Documentation**: 95% کامل (38/40 فاز)

### فازهای باقی‌مانده:
- **فاز 39**: System Architecture Documentation ⏳
- **فاز 40**: Final Project Documentation ⏳

### آخرین دستاوردها:
- ✅ **فاز 38 تکمیل شده**: Developer Documentation
- 📚 **مستندات توسعه‌دهندگان کامل**: راهنمای جامع توسعه، معماری و استانداردها
- 🔧 **اسکریپت‌های سیستم**: تمام اسکریپت‌های استقرار و نگهداری
- 🛡️ **امنیت و مانیتورینگ**: سیستم‌های نظارت و امنیت کامل

---

*این راهنما با تکمیل فاز ۲۹ و به‌روزرسانی‌های فازهای 31-38 به‌روزرسانی شد.*